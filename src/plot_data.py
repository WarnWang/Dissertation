#!/usr/bin/env python
# -*- coding: utf-8 -*-

# Project: Dissertation
# File name: plot_data
# Author: Mark Wang
# Date: 25/4/2016

import numpy as np

symbol_list = ['r-', 'b-', 'y-', 'm-']


def plot_predict_and_real(data, graph_index=0, graph_title=None, plt=None):
    return plot_label_vs_data(data, ["Predict Price", "Real Price"], graph_index=graph_index,
                              graph_title=graph_title, plt=plt)


def plot_label_vs_data(data, label, graph_index=0, graph_title=None, plt=None):
    if plt is None:
        import matplotlib.pyplot as plt
    plt.figure(graph_index)
    plt.title(graph_title)
    plt.ylabel("Stock Price")
    plt.xlabel("Date")
    data = np.array(data)
    data = data.T
    plt_list = []
    for i in range(len(data)):
        plt_list.append(plt.plot(data[i], symbol_list[i])[0])
    plt.legend(plt_list, label, loc=1)
    return plt


def plot_data():
    non_normalize_mse = [5.2246305884597461, 0.64842956095169335, 2.7364950502514236, 1.5197105792310599,
                         1.4367441892973547, 1.6404024776117923, 1.0909877812490405, 21.573589412774147,
                         1.0563322615161008, 0.60876221233509198, 6.0515030780484889, 1.8428909624219025,
                         3.8722657542233967, 1.7447690328371757, 0.34127112310296781, 4.9434861238574621,
                         7.6870817800323898, 0.7631167155326839, 2.6840758748497082, 3.0572243751301298,
                         0.068698447024077181, 0.091091505074099674, 0.68888690552592546, 0.10060165468078223,
                         56.945560426917346, 3.3700629418268475, 6.1317092705085621, 19.360264622367655,
                         9.8268546710275704, 0.039173392624140768, 1.2823536269110249, 46.206083602313043,
                         0.024265243646260874, 11.405303466666316, 8.8778845428571973, 2.2286732735533694,
                         0.24114599898271744, 23.535950327613666, 4.7377214458486083, 0.75506917795005202,
                         2.5629171353192666, 5.1444944350994053, 0.81122691442002304, 1.1466077151431766,
                         15.422815336914754, 7.7252787326327894, 0.13001068622272904, 46.326973244855246,
                         24.097918570666291, 68.300710434085431, 0.91060561623640734, 1.5209722256136511,
                         0.0012389440754639197, 2.5004727437908967, 4.0984549006195543, 0.14452818884881197,
                         0.59456980692536465, 1.2307182618682611, 0.00022879699770719157, 0.61042967333756193,
                         0.25272933113528734, 0.12375583654483252, 0.257426599634338]
    non_normalize_mape = [0.016943561331095425, 0.0096722026169504885, 0.089826518189735319, 0.019773185910310794,
                          0.013808522096635079, 0.013960754181081324, 0.99824765424660122, 0.97940782249560876,
                          0.99973277755324363, 0.018117313709211529, 0.012670355149676436, 0.019390807680269011,
                          0.014432982400671864, 0.034207729624752173, 0.9997201520383906, 0.015414750457972051,
                          0.31437095004129101, 0.99922050772255355, 0.013364933061532882, 0.041066303141959817,
                          0.99986527861294361, 0.99995719532580829, 0.023129716229352917, 0.99977514616102126,
                          0.56611360077130035, 0.0130524071459592, 0.050843551157948336, 0.89895265425333915,
                          0.99664966570862579, 0.99915502658288036, 0.99942689657212991, 0.78944322229482944,
                          0.99883001781556568, 0.37784479305760693, 0.99586002464278267, 0.99940943828793682,
                          0.99996244411398183, 0.89409519592527809, 0.99805022913358532, 0.9994326936173199,
                          0.057189589804245149, 0.99870347248291913, 0.9997215644818378, 0.010926590341933438,
                          0.37923940326341715, 0.99851385388155023, 0.99978890021316935, 0.74070281372678948,
                          0.3606661961878741, 0.39698192155952372, 0.0073947705325147182, 0.042037785181799868,
                          0.9999997110377592, 0.9859724314577728, 0.9826946402220561, 0.99995217971518735,
                          0.9993772156806161, 0.99926828959319935, 'inf', 0.039570499993451289, 0.99995395523894093,
                          0.99984484329348067, 0.99998313523960236]
    non_normalize_mad = [1.7484646569785276, 0.63742083624280133, 1.6168573523851062, 0.99187279352389512,
                         0.91577470023355967, 1.0008389155544213, 1.0085819660965663, 4.6300944692052948,
                         0.92499172277613106, 0.60191496407654699, 1.7561435383025057, 1.0393719986443783,
                         1.4604791980367471, 1.1865730966688444, 0.57947109428100396, 1.6579376311781728,
                         2.7458138510704204, 0.87153184424540275, 1.2319007771064676, 1.5159240268223155,
                         0.25644639381765627, 0.29393973035572746, 0.69249282665164569, 0.31246642094018962,
                         7.5231830973384035, 1.0627606933442655, 1.9927451463927621, 4.3636063684349997,
                         3.1167720112273543, 0.18267540333251756, 1.0912382259172555, 6.699386111450905,
                         0.14873849624346458, 3.3507943480978222, 2.9561438399435453, 1.1373923216488748,
                         0.45496473352283101, 4.7909717769057467, 1.741966971770732, 0.8596475142120189,
                         1.5202732259655196, 2.1967211106808762, 0.88875587849339643, 0.77584322075793033,
                         3.881042772071539, 2.7588673225050382, 0.34073746920941766, 6.750411005480081,
                         4.9048768780456893, 8.1697828857861872, 0.65932189581998568, 1.1569685805210181,
                         0.019759253653958725, 1.5618381147203106, 2.0102653526352379, 0.35584220095914959,
                         0.76129627857464133, 1.0980134100274319, 0.0079801974591357395, 0.71967206368274039,
                         0.43106345787514877, 0.3469153942618679, 0.44563981859791763]

    normalize_mse = [4.0233851863794623, 0.47953679474108507, 0.084029394785497702, 1.0672657721696304,
                     1.1961563368079096, 1.3459160287808376, 0.0021143798269016153, 0.0076311994324478631,
                     0.0068026558398070125, 0.49526461769717267, 4.583344958156883, 1.3623955613044065,
                     3.2287331191390485, 0.3210721707134393, 0.00033291453020091477, 3.6460927548262267,
                     0.02892111668240601, 0.00035860170443396434, 2.1838488286795044, 0.60614218386368579,
                     0.00025505326563310431, 0.00028421198847703425, 0.30119203231378888, 0.00031199043476615981,
                     0.042468087298319558, 2.4183605251102627, 2.1188754527363662, 0.0077234902437333212,
                     0.01186136637799952, 0.00024391388565550215, 0.0036299192127679661, 0.021678477671415817,
                     0.00013180527682506073, 0.021225776417766424, 0.0062487334814230935, 0.0264643656232969,
                     0.0018001884648862836, 0.045209746227138518, 0.059714704681845178, 0.00088571171215759035,
                     0.19259952644043277, 0.012984092828481134, 0.0011660798856103676, 0.73609748109756779,
                     0.029046519976520208, 0.0064614631262417069, 0.0011101427119566622, 0.042661568686946399,
                     0.025439500573275937, 0.10020364252017679, 0.56024007703555068, 0.14484532517922419,
                     0.00064937744276529646, 0.0024499114398419432, 0.0012305773315543806, 0.00090215845882473723,
                     0.0016946557065359773, 0.0016677023875600145, 6.6943068760474249e-06, 0.070621208927338391,
                     0.0016997663568696236, 0.00020609002479564319, 0.0018609654149817922]
    normalize_mape = [0.016943561331095425, 0.0096722026169504885, 0.089826518189735319, 0.019773185910310794,
                      0.013808522096635079, 0.013960754181081324, 0.99824765424660122, 0.97940782249560876,
                      0.99973277755324363, 0.018117313709211529, 0.012670355149676436, 0.019390807680269011,
                      0.014432982400671864, 0.034207729624752173, 0.9997201520383906, 0.015414750457972051,
                      0.31437095004129101, 0.99922050772255355, 0.013364933061532882, 0.041066303141959817,
                      0.99986527861294361, 0.99995719532580829, 0.023129716229352917, 0.99977514616102126,
                      0.56611360077130035, 0.0130524071459592, 0.050843551157948336, 0.89895265425333915,
                      0.99664966570862579, 0.99915502658288036, 0.99942689657212991, 0.78944322229482944,
                      0.99883001781556568, 0.37784479305760693, 0.99586002464278267, 0.99940943828793682,
                      0.99996244411398183, 0.89409519592527809, 0.99805022913358532, 0.9994326936173199,
                      0.057189589804245149, 0.99870347248291913, 0.9997215644818378, 0.010926590341933438,
                      0.37923940326341715, 0.99851385388155023, 0.99978890021316935, 0.74070281372678948,
                      0.3606661961878741, 0.39698192155952372, 0.0073947705325147182, 0.042037785181799868,
                      0.9999997110377592, 0.9859724314577728, 0.9826946402220561, 0.99995217971518735,
                      0.9993772156806161, 0.99926828959319935, 'inf', 0.039570499993451289, 0.99995395523894093,
                      0.99984484329348067, 0.99998313523960236]
    normalize_mad = [1.5102157730259298, 0.54973877566688778, 0.20599221216304028, 0.84885347378616527,
                     0.8373466034993049, 0.89089577610603587, 0.031586704880290702, 0.065096272614965242,
                     0.042321601889288851, 0.53799559111201667, 1.541055592908962, 0.88581890917432049,
                     1.3500778077458853, 0.4309527480199391, 0.012451738190457145, 1.4595042199062618,
                     0.12902139870227408, 0.011067300718806409, 1.138910950206, 0.61472564234816918,
                     0.011056345839022885, 0.010071560306822734, 0.42308114323002882, 0.011406742399167185,
                     0.13702518294193433, 1.0644825583631563, 1.1365688363628059, 0.062501476408215573,
                     0.074353950692633064, 0.0085407730737572518, 0.036343073137021495, 0.1003136180211442,
                     0.0073356745489453739, 0.10402557624453902, 0.056269264972127496, 0.055934142223516559,
                     0.023214129413598687, 0.14402057412320435, 0.10306361502999437, 0.020405386220379646,
                     0.33242024851344104, 0.07431533891350578, 0.020967083183841592, 0.6685352105803688,
                     0.12706731598358956, 0.050563902623186982, 0.018095318474346693, 0.12538712974750038,
                     0.10996045796014269, 0.22970049223486605, 0.55236039717921503, 0.2970031757529138,
                     0.003586804704165612, 0.031660339891845586, 0.025738452823449939, 0.017303625233033436,
                     0.025530889921079037, 0.026992115798362897, 0.0008490098941977308, 0.1828031005851318,
                     0.023322433259201213, 0.0089763089377997221, 0.021622749922173706]

    label = ['0001.HK.csv', '0002.HK.csv', '0003.HK.csv', '0004.HK.csv', '0005.HK.csv', '0006.HK.csv', '0007.HK.csv',
             '0008.HK.csv', '0009.HK.csv', '0010.HK.csv', '0011.HK.csv', '0012.HK.csv', '0013.HK.csv', '0014.HK.csv',
             '0015.HK.csv', '0016.HK.csv', '0017.HK.csv', '0018.HK.csv', '0019.HK.csv', '0020.HK.csv', '0021.HK.csv',
             '0022.HK.csv', '0023.HK.csv', '0024.HK.csv', '0025.HK.csv', '0026.HK.csv', '0027.HK.csv', '0028.HK.csv',
             '0029.HK.csv', '0030.HK.csv', '0031.HK.csv', '0032.HK.csv', '0033.HK.csv', '0034.HK.csv', '0035.HK.csv',
             '0036.HK.csv', '0037.HK.csv', '0038.HK.csv', '0039.HK.csv', '0040.HK.csv', '0041.HK.csv', '0042.HK.csv',
             '0043.HK.csv', '0044.HK.csv', '0045.HK.csv', '0046.HK.csv', '0048.HK.csv', '0050.HK.csv', '0051.HK.csv',
             '0052.HK.csv', '0053.HK.csv', '0054.HK.csv', '0055.HK.csv', '0056.HK.csv', '0057.HK.csv', '0058.HK.csv',
             '0059.HK.csv', '0060.HK.csv', '0061.HK.csv', '0062.HK.csv', '0063.HK.csv', '0064.HK.csv', '0065.HK.csv']

    data = [label, non_normalize_mad, non_normalize_mape, non_normalize_mse,
            normalize_mad, normalize_mape, normalize_mse]

    import numpy as np
    array = np.array(data).T
    f = open('error_data.csv', "w")
    f.write("symbol,Non-Normalized MAD,Non-Normalized MAPE,Non-Normalized MSE,Normalized MAD,Normalized MAPE,Normalized MSE\n")
    for i in array:
        f.write('{}\n'.format(','.join(i)))

    f.close()

if __name__ == "__main__":
    plot_data()